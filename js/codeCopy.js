window.addEventListener("DOMContentLoaded",getCodeBlockDoms);var clipboard=null;function getCodeBlockDoms(){var t=document.querySelectorAll("figure"),e=document.createElement("i"),o=(e.classList="iconfont icon-copy",document.createElement("span"));o.classList="pin-copy",o.setAttribute("data-text","copy"),o.appendChild(e),t.length&&t.forEach(function(e){e.addEventListener("mouseenter",function(){e.setAttribute("id","copy-target");var t=e.querySelector("table tbody tr .code");e.setAttribute("data-clipboard-text",t&&t.innerText||""),e.appendChild(o),o.addEventListener("click",copyContentAction)}),e.addEventListener("mouseleave",function(){e.setAttribute("id",""),e.setAttribute("data-clipboard-text",""),o.removeEventListener("click",copyContentAction),o.setAttribute("data-text","copy")})})}function copyContentAction(){clipboard=clipboard||new ClipboardJS("#copy-target");var e=document.querySelector(".pin-copy");clipboard.on("success",function(t){console.warn("clipboard success",t),clipboard.destroy(),clipboard=null,e&&e.setAttribute("data-text","copied")}),clipboard.on("error",function(t){console.warn("clipboard error",t),clipboard.destroy(),clipboard=null,e&&e.setAttribute("data-text","fail to copy")})}